# TaskVision データ形式仕様書

このドキュメントでは、TaskVisionアプリケーションで使用されるデータ形式の仕様を定義します。

## タスクデータ形式

### 日付形式

タスクの日付は以下のルールに従って保存されます：

- **日付形式**: `YYYY-MM-DD` 形式の文字列（例: `2025-02-27`）
- **未設定の場合**: `null`

**重要**: 日付は必ず文字列形式またはnullで保存してください。JavaScriptのDateオブジェクトやFirestoreのTimestampではなく、文字列形式を使用します。

### ブロックID形式

ブロックIDは以下のルールに従って保存されます：

- **設定されている場合**: 文字列型のID
- **設定されていない場合**: `null`（空文字列ではなく）

**重要**: ブロックIDには空文字列を使用せず、未設定の場合は必ず `null` を使用してください。

## タスクの表示ルール

1. **日付別表示**
   - 各日付に一致するタスクのみ表示
   - 日付が `null` のタスクは「日付未割り当て」セクションに表示

2. **ブロック表示**
   - 各ブロックには、該当ブロックIDを持つタスクのみ表示
   - ブロックIDが `null` のタスクは「未割り当てタスク」セクションに表示

3. **未割り当てタスク**
   - ブロックIDが `null` かつ表示中の日付に一致するタスク（または日付が `null`）

## データ形式の検証ルール

アプリケーションの各所で、以下の検証を行います：

1. **保存時**
   - 日付はYYYY-MM-DD形式の文字列に変換
   - ブロックIDは文字列または `null` に設定

2. **読み込み時**
   - 日付は文字列として処理
   - ブロックIDは文字列または `null` として処理

このデータ形式仕様に準拠することで、アプリケーション全体でのデータの一貫性と表示の正確性を確保します。 